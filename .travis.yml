# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.x) AND type IN (push) AND repo = bootique/bootique-logback

# travis encrypt -r bootique/bootique-logback "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-logback "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "DwR62J8ke2p0lI95mfENOuQ/+biuqCBOTP+68GaLLIsj4AT/WFdFgORpOFUtg0hPEZIqrUzBNjpTqtl5PFgWw3wHlfWL2KZ05gJjBS7AUvaEH00yS8yXYBf+SeCLXMcdcsbh5/W8Wiro66H2KP8xBiZ9I9IEskAAhLESZT4kVicPV4xkLU4siefE+Cokr8NvGreTI721BimpkNINLBp2OP1/n2bQuk+2v2nMqu1RU+q88vuCh3Nsjoqqaohd/tAGrUvP4am8NWtx8InbJck2do7VKRpitxqDL+A324E9fipyE0blymP0ThJkCNt8jKB7Jv3GdUj1iSEu3diL/xf6h4WSzUsr++7qdZf4uq2JBkdwUA01z0NN/g1pWT93huECGwqbidLRl0BizF6xnllC04pcfcNhnWqtE0M6Tba0rp8D4Umt0TRB+crF0ZLVCTSJ8qRJOYAd7bEOeL7bprrmz9WkP9OxD0TNxlc/YGadY45xvnILnNwx8djpdXOeOdeGAPJ2MTFxookePytlfzfXIWbr3Hbij7hKNTXUMoMbZnHwvUCKtqNJeuVVCnsqpW1GuDYi3xBdAFNB72ddk43H3v9Awt4ngEfatsnH67w4JPw9lXKbTGUasLtoKvU+jxuFtvmlnarGyTF0Zkk4WEfbASQoNY4tu1aEn8p5Rov8isI="
    - secure: "eSJ4VNXJ9mStl04OcjPeVzNEjCudzqhbunbw4cy34bG3RYfSnQ9FG3Jsf7ByZXCXd3PUAzzXjlozpy09aRbi0jloANARsJiBiFi0IT/VS9wpTLHOnrnRVbRIPFzXqZTsXuXwhsu4v8otMWfc3Jh+8At4iX+L+/nt4XOX2T88/Tc8hAmNBIk85zxsQduv5WQf9DCgHOQOPuEW0CN02QmkHLARqBsSZv21YClYrazUScC2YBnG1WcX0cXTXPLlPNLDR1XLujmBZZjyGzLs3kpsNotHz+VV6R6Y0d8I8S3iIhpKHjDlZmfjacgBYMhuGlFW2oh9kDBZk7tlJsA7MUqQmXust59JYb6ktKY5OtItHvpSIySnb4tc+jZ6McYwbBT6/k4ZUrRZwmzkVOu8C54S3wGMGA1fgIULPubTNTD9G0VSzwK7j1lxZVkg/mCmi+DvVERaI4f7Xrk2J5qUX27Dxay/GCPARhPz4gXfJaDSJghvT+azzQeaLBAj69OBwjYtHR4NSdfI0DZF8osrmVLIX34RLofH//4ERDtWgzgAyqcFlqThtQGnkOzjfEUuyZlA7wLQ1OzHSyzQk2gA4SN0gxg6JOPlUTJbzE23VkNwGCNPpa3LuaSwpThjN3LqXhkhkex8yjTXou0glu9cCz9FWprsCD4oz3NjXwT349k9eH4="
